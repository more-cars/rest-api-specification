{
  "id": "MCA-239",
  "parent_id": "MCA-70",
  "title": "Create CAR MODEL-has-IMAGE Relationship",
  "user_story": "As an API contributor\\\nI want to be able to attach IMAGEs to CAR MODELs\\\nSo I can illustrate them\n",
  "description": "# **Request**\n\n* method: `POST`\n* URL path: `/car-models/<car-model-id>/has-image/<image-id>`&#x20;\n* empty body\n\n# **Response**\n\n**Happy path**\n\n* positive HTTP status code (201)\n* a JSON confirming that both entities have been connected:\n  * `car_model_id`: integer\n  * `image_id`: integer\n  * `relationship_id`: integer\n  * `relationship_name`: string\n  * `created_at`: string\n  * `updated_at`: string\n\n**Unhappy path**\n\n* negative HTTP status code (404)\n* a plain text response stating the problem\n\n# **Acceptance Criteria**\n\n**Behavior (Business Logic)**\n\n* the relationship is successfully created when provided with valid data\n  * status code `201`\n* the relationship is not created when the provided data was not valid\n  * `car model` and/or `image` not found → status code `404`\n  * `car model` cannot be attached to itself → `422` → already covered by the rule above\n  * `car model` cannot be attached to other `car model` → `422` → already covered by the rule above\n* the user can trigger the creation of the same relationship over and over again\n  * the result is always the same (idempotency)\n  * however this is achieved in the code resp. the database, the `More Cars ID` needs to stay the same\n* a `car model` can have 0, 1 or multiple `images`\n\n# **Quality Gates**\n\n* Unit+Integration tests (Jest) are extended\n* Behavior tests (Cucumber) are added\n* OpenAPI spec is extended & schema is still valid\n* Bruno collection is extended\n* Performance tests are extended & existing tests are still green\n\n# **NOT in scope for this iteration**\n\n* auth / security\n* proper JSON structure according to the JSON:API\n* returning the relationships in other places\n* deleting the relationship\n",
  "api_verb": null,
  "api_path": null,
  "response_options": [],
  "release_versions": [
    "0.13.0"
  ],
  "created_at": "2025-06-27T11:02:23.273+0200",
  "updated_at": "2025-08-17T16:43:15.933+0200"
}
